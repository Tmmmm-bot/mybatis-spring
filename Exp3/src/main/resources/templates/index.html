<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <title>JFinal Shop å•†åŸ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#f6f6f6;color:#333}
        a{text-decoration:none;color:#333}

        /* é¡¶éƒ¨å¯¼èˆª */
        .topbar{background:#f2f2f2;padding:6px 20px;font-size:14px;display:flex;justify-content:space-between}
        .topbar a{margin:0 6px;color:#0077cc}

        /* å¤´éƒ¨ */
        .header{display:flex;align-items:center;gap:16px;justify-content:space-between;padding:12px 20px;background:#fff}
        .logo{font-size:26px;font-weight:700}
        .logo span{color:#0077cc}
        .search-box{flex:1;text-align:center}
        .search-box input{width:60%;max-width:520px;padding:7px;border:1px solid #ccc;border-right:0;border-radius:4px 0 0 4px}
        .search-box button{padding:7px 14px;border:0;background:#0077cc;color:#fff;border-radius:0 4px 4px 0;cursor:pointer}
        .hotline{font-size:14px;color:#666}
        .cart-btn{background:#ff6600;color:#fff;padding:7px 14px;border:0;border-radius:4px;cursor:pointer}

        /* é¡¶éƒ¨ä¸»å¯¼èˆª + åˆ†ç±»ä¸‹æ‹‰ */
        .nav{background:#0077cc;color:#fff}
        .nav-inner{display:flex;gap:12px;padding:0 20px}
        .cat{position:relative;padding:12px 16px;cursor:pointer}
        .cat:hover{background:#005fa3}
        .cat ul{display:none;position:absolute;left:0;top:100%;background:#fff;color:#333;min-width:240px;list-style:none;margin:0;padding:10px;border:1px solid #ccc;z-index:9}
        .cat:hover ul{display:block}
        .cat ul li{padding:6px 8px}
        .menulinks{display:flex;align-items:center;gap:18px}
        .menulinks a{padding:12px 6px;color:#fff}

        /* è‹±é›„åŒºï¼šå·¦è½®æ’­ + å³æ–°å“ä¸Šæ¶ï¼ˆå…¨å±ï¼‰ */
        .hero{width:100%;display:flex;gap:0;align-items:stretch}
        .slider-wrap{flex:1;min-width:0;background:#fff}
        .slider{position:relative;width:100%;height:360px;overflow:hidden}
        .slides{display:flex;transition:transform .5s ease}
        .slides img{width:100%;height:360px;object-fit:cover;flex:0 0 100%}
        .dots{position:absolute;left:50%;bottom:10px;transform:translateX(-50%);display:flex;gap:8px}
        .dots span{width:10px;height:10px;border-radius:50%;background:#fff;opacity:.5;cursor:pointer}
        .dots .active{opacity:1;background:#0077cc}
        .arrow{position:absolute;top:50%;transform:translateY(-50%);width:34px;height:34px;border-radius:50%;background:rgba(0,0,0,.35);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;user-select:none}
        .arrow.left{left:10px}
        .arrow.right{right:10px}

        .new-wrap{width:360px;background:#fff}
        .new-head{padding:10px 12px;border-bottom:1px solid #eee;display:flex;align-items:center;gap:8px;color:#777}
        .new-grid{padding:12px;display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
        .new-grid img{width:100%;height:100px;object-fit:cover;border:1px solid #eee}

        /* çƒ­é—¨å•†å“ï¼ˆæ”¾å¤§å›¾ç‰‡ï¼Œå‡å°‘ç•™ç™½ï¼‰ */
        .section{width:100%;margin:10px auto;background:#fff}
        .section h2{margin:0;padding:10px 14px;border-bottom:1px solid #eee;color:#666;font-size:16px}
        .product-list{padding:12px;display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
        .product{border:1px solid #eee;text-align:center;padding:8px;background:#fafafa}
        .product img{width:100%;height:180px;object-fit:cover;display:block}
        .product p{margin:6px 0 0;font-size:14px;line-height:1.3}
    </style>
</head>
<body>

<!-- é¡¶éƒ¨å¯¼èˆª -->
<div class="topbar">
    <div>æ‚¨å¥½ï¼Œæ¬¢è¿å…‰ä¸´JFinalShopï¼ <a href="#">ç™»å½•</a> | <a href="#">æ³¨å†Œ</a></div>
    <div><a href="#">å…³äºæˆ‘ä»¬</a></div>
</div>

<!-- å¤´éƒ¨ -->
<div class="header">
    <div class="logo">JFinal <span>shop</span></div>
    <div class="search-box">
        <input type="text" placeholder="è¯·è¾“å…¥å…³é”®è¯..." />
        <button>æœç´¢</button>
    </div>
    <div class="hotline">7x24å°æ—¶æœåŠ¡çƒ­çº¿ï¼š400-8888888</div>
    <button class="cart-btn">è´­ç‰©è½¦</button>
</div>

<!-- ä¸»å¯¼èˆª + åˆ†ç±» -->
<div class="nav">
    <div class="nav-inner">
        <div class="cat">å…¨éƒ¨å•†å“åˆ†ç±»
            <ul>
                <li>å®¶ç”¨ç”µå™¨</li>
                <li>æ‰‹æœºã€è¿è¥å•†ã€æ•°ç </li>
                <li>ç”µè„‘ã€åŠå…¬</li>
                <li>å®¶å±…ã€å®¶å…·ã€å®¶è£…ã€å¨å…·</li>
                <li>ç”·è£…ã€å¥³è£…ã€ç«¥è£…ã€å†…è¡£</li>
                <li>ç¾å¦†ã€ä¸ªæŠ¤æ¸…æ´ã€å® ç‰©</li>
                <li>é‹é´ã€ç®±åŒ…ã€é’Ÿè¡¨ã€ç å®</li>
                <li>è¿åŠ¨ã€æˆ·å¤–</li>
                <li>æˆ¿äº§ã€æ±½è½¦ã€æ±½è½¦ç”¨å“</li>
                <li>æ¯å©´ã€ç©å…·ä¹å™¨</li>
            </ul>
        </div>
        <div class="menulinks">
            <a href="#">é¦–é¡µ</a>
        </div>
    </div>
</div>

<!-- è‹±é›„åŒºï¼šå·¦è½®æ’­ + å³æ–°å“ä¸Šæ¶ -->
<div class="hero">
    <!-- å·¦ï¼šè½®æ’­ -->
    <div class="slider-wrap">
        <div class="slider" id="slider">
            <div class="slides" id="slides">
                <img src="images/1.png" alt="å¹¿å‘Š1">
                <img src="images/2.png" alt="å¹¿å‘Š2">
                <img src="images/3.png" alt="å¹¿å‘Š3">
            </div>
            <div class="arrow left" id="prev"></div>
            <div class="arrow right" id="next"></div>
            <div class="dots" id="dots">
                <span class="active"></span><span></span><span></span>
            </div>
        </div>
    </div>

    <!-- å³ï¼šæ–°å“ä¸Šæ¶ -->
    <div class="new-wrap">
        <div class="new-head">ğŸ›’ æ–°å“ä¸Šæ¶</div>
        <div class="new-grid">
            <img src="images/shoes.png" alt="é‹å­">
            <img src="images/wine.jpg" alt="é…’">
            <img src="images/umbrella.jpg" alt="ä¼">
            <img src="images/cup.jpg" alt="æ¯å­">
            <img src="images/kiwi.jpg" alt="çŒ•çŒ´æ¡ƒ">
            <img src="images/toy.jpg" alt="ç©å…·">
            <img src="images/drink.jpg" alt="é¥®æ–™">
            <img src="images/gift.jpg" alt="ç¤¼ç›’">
            <img src="images/hat.jpg" alt="å¸½å­">
        </div>
    </div>
</div>

<!-- çƒ­é—¨å•†å“ -->
<div class="section">
    <h2>çƒ­é—¨å•†å“</h2>
    <div class="product-list">
        <div class="product"><img src="images/usb.jpg" alt="Uç›˜"><p>ç²¾å“Uç›˜</p></div>
        <div class="product"><img src="images/laptop.jpg" alt="ç¬”è®°æœ¬"><p>è½»è–„æœ¬</p></div>
        <div class="product"><img src="images/lamp.jpg" alt="å°ç¯"><p>æŠ¤çœ¼å°ç¯</p></div>
        <div class="product"><img src="images/mug.jpg" alt="é©¬å…‹æ¯"><p>é©¬å…‹æ¯</p></div>
        <div class="product"><img src="images/phone.jpg" alt="æ‰‹æœº"><p>æ——èˆ°æ‰‹æœº</p></div>
    </div>
</div>

<script>
    // è½®æ’­é€»è¾‘
    const slides = document.getElementById('slides');
    const dots = Array.from(document.getElementById('dots').children);
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    let idx = 0, total = dots.length, timer = null;

    function go(n){
        idx = (n + total) % total;
        slides.style.transform = `translateX(-${idx*100}%)`;
        dots.forEach((d,i)=>d.classList.toggle('active', i===idx));
    }
    function start(){ timer = setInterval(()=>go(idx+1), 3000); }
    function stop(){ if(timer){ clearInterval(timer); timer = null; } }

    dots.forEach((d,i)=> d.onclick = ()=>{ stop(); go(i); start(); });
    prev.onclick = ()=>{ stop(); go(idx-1); start(); };
    next.onclick = ()=>{ stop(); go(idx+1); start(); };
    start();
    const API_BASE = ''; // åŒåŸŸéƒ¨ç½²å¯ç•™ç©ºï¼Œè‹¥å‰åç«¯åˆ†ç¦»ï¼Œå¯å¡«å¦‚ 'http://localhost:8081'

    async function listAll() {
        const res = await fetch(`${API_BASE}/select1`);
        const data = await res.json();
        console.log('å…¨éƒ¨æ•°æ®', data);
        // TODO: æŠŠ data æ¸²æŸ“åˆ°çƒ­é—¨å•†å“åŒºæˆ–è¡¨æ ¼
    }

    async function addOne() {
        const params = new URLSearchParams({
        id: document.querySelector('#id').value,
        name: document.querySelector('#name').value,
        introduction: document.querySelector('#intro').value,
        sale: document.querySelector('#sale').value,
        number: document.querySelector('#number').value,
    });
        const res = await fetch(`${API_BASE}/insert?` + params.toString(), { method: 'POST' });
        alert(await res.text());
        listAll();
    }

        async function deleteOne(id) {
        const res = await fetch(`${API_BASE}/delete?id=${encodeURIComponent(id)}`, { method: 'POST' });
        alert(await res.text());
        listAll();
    }

    // é¡µé¢åŠ è½½å®Œï¼Œå…ˆæ‹‰ä¸€éæ•°æ®
    document.addEventListener('DOMContentLoaded', listAll);
</script>
</body>
</html>
